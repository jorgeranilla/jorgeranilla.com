<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jorge Ranilla | Travel Gallery</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Roboto:wght@300;400;500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="icon" type="image/png" href="../images/jr-logo.png">

  <style>
    /* Gallery Container */
    .gallery-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 1rem 4rem;
    }

    .gallery-intro {
      text-align: center;
      max-width: 800px;
      margin: 0 auto 3rem;
    }

    .gallery-intro p {
      color: #666;
      font-size: 1.05rem;
      line-height: 1.7;
      margin-bottom: 2rem;
    }

    /* Interactive Map Container */
    .map-container {
      max-width: 1000px;
      margin: 0 auto 4rem;
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    .map-wrapper {
      position: relative;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }

    .world-map-container {
      position: relative;
      width: 100%;
      border-radius: 8px;
      overflow: hidden;
    }

    .world-map-image {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Map Markers Overlay */
    .map-markers {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .country-marker-pin {
      position: absolute;
      transform: translate(-50%, -50%);
      cursor: pointer;
      pointer-events: all;
      transition: all 0.3s ease;
    }

    .country-marker-pin:hover {
      transform: translate(-50%, -50%) scale(1.3);
    }

    .marker-pin-emoji {
      font-size: 24px;
      display: block;
      transition: transform 0.3s ease;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    }

    .country-marker-pin:hover .marker-pin-emoji {
      transform: translateY(-5px);
    }

    .marker-label {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 0.4rem 0.8rem;
      border-radius: 4px;
      font-size: 0.85rem;
      font-weight: 600;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 1;
    }

    .country-marker-pin:hover .marker-label {
      opacity: 1;
    }

    /* City Selection Modal */
    .city-modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      animation: fadeIn 0.3s ease;
    }

    .city-modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .city-modal-content {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      position: relative;
      animation: slideUp 0.3s ease;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .city-modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 28px;
      color: #999;
      cursor: pointer;
      transition: color 0.3s ease;
      line-height: 1;
      padding: 0;
      width: 30px;
      height: 30px;
    }

    .city-modal-close:hover {
      color: #333;
    }

    .city-modal-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.75rem;
      color: #2c3e50;
      margin-bottom: 1.5rem;
      padding-right: 2rem;
    }

    .city-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .city-list li {
      margin-bottom: 0.75rem;
    }

    .modal-title-wrapper {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 1.5rem;
    }

    .modal-flag {
      width: 20px;
      height: auto;
      border-radius: 2px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      display: block;
    }

    .city-link {
      display: block;
      padding: 1rem 1.25rem;
      background: #f8f9fa;
      border-radius: 8px;
      text-decoration: none;
      color: #2c3e50;
      font-size: 1.05rem;
      font-weight: 500;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .city-link:hover {
      background: #CD5C5C;
      color: white;
      transform: translateX(8px);
      border-color: #CD5C5C;
    }

    .city-link::before {
      content: '📍 ';
      margin-right: 8px;
    }

    /* Map Legend */
    .map-legend {
      text-align: center;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid #eee;
    }

    .map-legend p {
      color: #666;
      font-size: 0.9rem;
      margin: 0;
    }

    .map-legend-item {
      display: inline-flex;
      align-items: center;
      margin: 0 1rem;
    }

    .map-legend-dot {
      width: 12px;
      height: 12px;
      background: #e74c3c;
      border-radius: 50%;
      margin-right: 6px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .map-container {
        padding: 1rem;
      }

      .city-modal-content {
        padding: 1.5rem;
      }

      .city-modal-title {
        font-size: 1.5rem;
        margin-bottom: 0;
      }

      .modal-flag {
        width: 18px;
      }

      .country-marker text {
        font-size: 12px;
      }

      .country-label {
        font-size: 14px;
      }
    }
  </style>
</head>

<body data-title="Travel" data-section="Gallery">
  <div id="social-rail-placeholder"></div>
  <div id="header-placeholder"></div>

  <div class="breadcrumb-bar">
    <nav id="breadcrumbs" class="breadcrumb-container" aria-label="Breadcrumb"></nav>
  </div>

  <main class="page-content">
    <div class="gallery-container">
      <div class="gallery-intro">
        <h2 class="page-title page-title--sm">Travel Gallery</h2>
        <p>
          Exploring the world through the lens. These photographs capture the beauty, culture, and unforgettable moments
          from our travels around the globe. During our travels abroad, Shane is often behind the camera, capturing
          landscapes, architecture, and thoughtful details that make each destination unique. This gallery is a space
          for her to showcase her passion for photography and creative eye.
        </p>
        <p>
          Click on a country to explore some of the cities we’ve visited.
        </p>
      </div>

      <!-- Interactive Map -->
      <div class="map-container">
        <div class="map-wrapper">
          <!-- World Map Image with Clickable Regions -->
          <div class="world-map-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Equirectangular_projection_SW.jpg"
              alt="World Map" class="world-map-image" usemap="#worldmap">

            <!-- Clickable Markers Overlay -->
            <div class="map-markers">
              <!-- Peru Marker (Central Peru/Andes) -->
              <div class="country-marker-pin" data-country="peru" style="left: 30%; top: 62%;">
                <div class="marker-pin-emoji">📍</div>
                <div class="marker-label">Peru</div>
              </div>

              <!-- Japan Marker (Tokyo/Honshu) -->
              <div class="country-marker-pin" data-country="japan" style="left: 84%; top: 38%;">
                <div class="marker-pin-emoji">📍</div>
                <div class="marker-label">Japan</div>
              </div>

              <!-- Mexico Marker (Central Mexico) -->
              <div class="country-marker-pin" data-country="mexico" style="left: 23%; top: 41%;">
                <div class="marker-pin-emoji">📍</div>
                <div class="marker-label">Mexico</div>
              </div>
            </div>
          </div>

          <div class="map-legend">
            <div class="map-legend-item">
              <span class="map-legend-dot"></span>
              <span>Click on a marker to explore cities</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- City Selection Modal -->
  <div class="city-modal" id="cityModal">
    <div class="city-modal-content">
      <button class="city-modal-close" id="modalClose">&times;</button>
      <h3 class="city-modal-title" id="modalTitle">Select a City</h3>
      <ul class="city-list" id="cityList">
        <!-- Cities will be populated by JavaScript -->
      </ul>
    </div>
  </div>

  <script src="../script.js?v=1"></script>
  <script src="../search-dynamic.js"></script>
  <script>
    // Travel data structure
    const travelData = {
      peru: {
        name: 'Peru',
        flag: '../images/flags/peru.svg',
        cities: [
          { name: 'Lima', url: 'travel/peru/lima.html' },
          { name: 'Cusco', url: 'travel/peru/cusco.html' }
        ]
      },
      japan: {
        name: 'Japan',
        flag: '../images/flags/japan.svg',
        cities: [
          { name: 'Tokyo', url: 'travel/japan/tokyo.html' },
          { name: 'Osaka', url: 'travel/japan/osaka.html' },
          { name: 'Nagoya', url: 'travel/japan/nagoya.html' }
        ]
      },
      mexico: {
        name: 'Mexico',
        flag: '../images/flags/mexico.svg',
        cities: [
          { name: 'Cancun', url: 'travel/mexico/cancun.html' },
          { name: 'Cozumel', url: 'travel/mexico/cozumel.html' }
        ]
      }
    };

    // Modal elements
    const modal = document.getElementById('cityModal');
    const modalTitle = document.getElementById('modalTitle');
    const cityList = document.getElementById('cityList');
    const modalClose = document.getElementById('modalClose');

    // Country markers
    const countryMarkers = document.querySelectorAll('.country-marker-pin');

    // Open modal when clicking a country
    countryMarkers.forEach(marker => {
      marker.addEventListener('click', (e) => {
        const country = marker.getAttribute('data-country');
        const countryData = travelData[country];

        if (countryData) {
          // Set modal title with flag image
          modalTitle.innerHTML = `
            <div class="modal-title-wrapper">
                <img src="${countryData.flag}" alt="${countryData.name} Flag" class="modal-flag">
                <span>${countryData.name}</span>
            </div>
          `;

          // Populate city list
          cityList.innerHTML = countryData.cities.map(city => `
            <li>
              <a href="${city.url}" class="city-link">${city.name}</a>
            </li>
          `).join('');

          // Show modal
          modal.classList.add('active');
          document.body.style.overflow = 'hidden';
        }
      });
    });

    // Close modal
    function closeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    modalClose.addEventListener('click', closeModal);

    // Close on background click
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Close on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeModal();
      }
    });
  </script>
</body>

</html>